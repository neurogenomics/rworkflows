<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started • rworkflows</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="rworkflows">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rworkflows</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/rworkflows.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bioconductor.html">Bioconductor</a>
    </li>
    <li>
      <a href="../articles/depgraph.html">Dependency graph</a>
    </li>
    <li>
      <a href="../articles/docker.html">Docker/Singularity Containers</a>
    </li>
    <li>
      <a href="../articles/repos.html">Repositories report</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/neurogenomics/rworkflows/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started</h1>
                        <h4 data-toc-skip class="author"><h4>
<br>
Authors: <i>Brian Schilder, Alan Murphy, Nathan Skene</i><br>
</h4></h4>
            
            <h4 data-toc-skip class="date"><h4>
<br>
Vignette updated: <i>Dec-29-2023</i><br>
</h4></h4>
      
      <small class="dont-index">Source: <a href="https://github.com/neurogenomics/rworkflows/blob/HEAD/vignettes/rworkflows.Rmd" class="external-link"><code>vignettes/rworkflows.Rmd</code></a></small>
      <div class="hidden name"><code>rworkflows.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/neurogenomics/rworkflows" class="external-link">rworkflows</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="github-secrets">GitHub Secrets<a class="anchor" aria-label="anchor" href="#github-secrets"></a>
</h2>
<p>Before pushing changes to your new R package, you may want to set up
one or more <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets" class="external-link">GitHub
Secrets</a>:</p>
<ul>
<li>
<code>GITHUB_TOKEN</code> [Optional]: Can grant access to private
repos on GitHub Actions. You can generate your very own Personal
Authentication Token using <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" class="external-link">these
instructions</a>.<br>
</li>
<li>
<code>DOCKER_TOKEN</code> [Optional]: Allows GitHub Actions to push
to a <a href="https://hub.docker.com" class="external-link">DockerHub</a> account.</li>
</ul>
</div>
<div class="section level2">
<h2 id="use_workflow">
<code>use_workflow</code><a class="anchor" aria-label="anchor" href="#use_workflow"></a>
</h2>
<div class="section level3">
<h3 id="dynamic-action">dynamic action<a class="anchor" aria-label="anchor" href="#dynamic-action"></a>
</h3>
<p>User only have to run <code>use_workflow</code> once per R package to
create a workflow file that calls the <code>rworkflows</code>
action.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">workflow</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_workflow.html">use_workflow</a></span><span class="op">(</span>run_bioccheck <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                                     run_rcmdcheck <span class="op">=</span> <span class="cn">TRUE</span>,  </span>
<span>                                     run_pkgdown <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                     run_docker <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     docker_user <span class="op">=</span> <span class="st">"bschilder"</span>,</span>
<span>                                     docker_org <span class="op">=</span> <span class="st">"neurogenomicslab"</span>,</span>
<span>                                     force_new <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     <span class="co">## Use default save_dir in practice</span></span>
<span>                                     save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Saving yaml ==&gt; /tmp/RtmpFVft2I/rworkflows.yml</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="static-workflow">static workflow<a class="anchor" aria-label="anchor" href="#static-workflow"></a>
</h3>
<p>Alternatively, you may use</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">workflow_static</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_workflow.html">use_workflow</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"rworkflows_static"</span>,</span>
<span>                                     run_bioccheck <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                                     run_rcmdcheck <span class="op">=</span> <span class="cn">TRUE</span>,  </span>
<span>                                     run_pkgdown <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                     run_docker <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     docker_user <span class="op">=</span> <span class="st">"bschilder"</span>,</span>
<span>                                     docker_org <span class="op">=</span> <span class="st">"neurogenomicslab"</span>,</span>
<span>                                     force_new <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     <span class="co">## Use default save_dir in practice</span></span>
<span>                                     save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Saving yaml ==&gt; /tmp/RtmpFVft2I/rworkflows_static.yml</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="use_badges">
<code>use_badges</code><a class="anchor" aria-label="anchor" href="#use_badges"></a>
</h2>
<p>This function creates a banner containing badges, a hex sticker (if
one is available), and author names.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">badges</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_badges.html">use_badges</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Finding hex sticker(s) for 1 package(s).</span></span></code></pre>
<pre><code><span><span class="co">## Adding license.</span></span></code></pre>
<pre><code><span><span class="co">## Adding version.</span></span></code></pre>
<pre><code><span><span class="co">## Adding code size</span></span></code></pre>
<pre><code><span><span class="co">## Adding commit.</span></span></code></pre>
<pre><code><span><span class="co">## Adding actions.</span></span></code></pre>
<pre><code><span><span class="co">## Adding codecov.</span></span></code></pre>
<pre><code><span><span class="co">## Adding authors.</span></span></code></pre>
<pre><code><span><span class="co">## When refs is provided, paths must have the same length (or be set to NULL). Setting paths=NULL.</span></span></code></pre>
<img src="https://github.com/neurogenomics/rworkflows/raw/master/inst/hex/hex.png" title="Hex sticker for rworkflows" height="300"><br><a href="https://cran.r-project.org/web/licenses/GPL-3" class="external-link"><img src="https://img.shields.io/badge/license-GPL--3-blue.svg" alt="License: GPL-3"></a> <a href="https://github.com/neurogenomics/rworkflows" class="external-link"><img src="https://img.shields.io/badge/devel%20version-1.0.1-black.svg"></a>
<a href="https://github.com/neurogenomics/rworkflows" class="external-link"><img src="https://img.shields.io/github/languages/code-size/neurogenomics/rworkflows.svg"></a>
<a href="https://github.com/neurogenomics/rworkflows/commits/master" class="external-link"><img src="https://img.shields.io/github/last-commit/neurogenomics/rworkflows.svg"></a>
<br><a href="https://github.com/neurogenomics/rworkflows/actions" class="external-link"><img src="https://github.com/neurogenomics/rworkflows/workflows/rworkflows/badge.svg" alt="R build status"></a> <a href="https://app.codecov.io/gh/neurogenomics/rworkflows" class="external-link"><img src="https://codecov.io/gh/neurogenomics/rworkflows/branch/master/graph/badge.svg"></a>
<br><a href="https://app.codecov.io/gh/neurogenomics/rworkflows/tree/master" target="_blank" class="external-link"><img src="https://codecov.io/gh/neurogenomics/rworkflows/branch/master/graphs/icicle.svg" title="Codecov icicle graph" width="200" height="50" style="vertical-align: top;"></a>
<h5 id="use_badges-1">
Authors: <i>Brian Schilder, Alan Murphy, Nathan Skene</i>
<a class="anchor" aria-label="anchor" href="#use_badges-1"></a>
</h5>
</div>
<div class="section level2">
<h2 id="use_dockerfile">
<code>use_dockerfile</code><a class="anchor" aria-label="anchor" href="#use_dockerfile"></a>
</h2>
<p>Create a <em>Dockerfile</em> that installs your R package and all its
<em>Imports</em>/<em>Suggests</em>. It is normally not necessary for
users to run this function themselves unless they would like to use it
to create a template <em>Dockerfile</em> and then customise it further
(rather than creating one on the fly).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Use default save_dir in practice</span></span>
<span><span class="va">dockerfile</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_dockerfile.html">use_dockerfile</a></span><span class="op">(</span>save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Creating new Docker file ==&gt; /tmp/RtmpFVft2I/Dockerfile</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="templates">Templates<a class="anchor" aria-label="anchor" href="#templates"></a>
</h2>
<p>You can generate templates for each of the following R package
elements. These templates are designed to dynamically autofill as as
much information as possible (package name, date, authors) to minimise
manual editing steps and ensure documentation is as up-to-date as
possible.</p>
<div class="section level3">
<h3 id="readme">README<a class="anchor" aria-label="anchor" href="#readme"></a>
</h3>
<p>README rmarkdown file. Allows you to run code inside to generate a
README <em>markdown</em> file.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Use default save_dir in practice</span></span>
<span><span class="va">readme</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_readme.html">use_readme</a></span><span class="op">(</span>save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Creating new README file ==&gt; /tmp/RtmpFVft2I/README.Rmd</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="vignette-get-started">Vignette: Get started<a class="anchor" aria-label="anchor" href="#vignette-get-started"></a>
</h3>
<p>Generate a vignette on how to get started with your R package.
Requires additional editing to fill in examples.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Use default save_dir in practice</span></span>
<span><span class="va">vignette1</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_vignette_getstarted.html">use_vignette_getstarted</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"mypackage"</span>,</span>
<span>                                                 save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Creating new vignette file ==&gt; /tmp/RtmpFVft2I/vignettes/mypackage.Rmd</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="vignette-docker">Vignette: docker<a class="anchor" aria-label="anchor" href="#vignette-docker"></a>
</h3>
<p>Generate a vignette on how to install your R package via with your R
package, RStudio, and all dependencies already installed. This vignette
does not require any manual editing after creation (unless you want to
change things like port number, for example).</p>
<p>Note, this is only relevant when you have a container for your R
package stored in a public Docker registry (e.g. GitHub Container
Registry, DockerHub). You can automatically generate one by using the
<code>rworkflows</code> action with <code>run_docker=TRUE</code>:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_workflow.html">use_workflow</a></span><span class="op">(</span>run_docker <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                         docker_org <span class="op">=</span> <span class="st">"neurogenomics"</span><span class="op">)</span></span></code></pre></div>
<p>If you’re using the GitHub Container Registry,
<code>docker_org</code> can simply be your GH organization name or user
name.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Use default save_dir in practice</span></span>
<span><span class="va">vignette2</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_vignette_docker.html">use_vignette_docker</a></span><span class="op">(</span>docker_org <span class="op">=</span> <span class="st">"neurogenomics"</span>,</span>
<span>                                             save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Creating new vignette file ==&gt; /tmp/RtmpFVft2I/vignettes/docker.Rmd</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="adding-python">Adding Python<a class="anchor" aria-label="anchor" href="#adding-python"></a>
</h2>
<p>If your R package depends on python (e.g. via
<code>reticulate</code>), the <code>rworkflows</code> action can also
automatically install python for you.</p>
<div class="section level3">
<h3 id="using-python">Using Python<a class="anchor" aria-label="anchor" href="#using-python"></a>
</h3>
<p>You can instruct GitHub Actions to install a version of python, with
whatever level of versioning specificiy you want (e.g. “3.10.11”,
“3.10”, or even just “3”).</p>
<p>If you supply one <code>python_version</code>, it will be applied to
all runners. You also assign a different <code>python_version</code> to
each <code>os</code>, as we do here:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">runners</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/construct_runners.html">construct_runners</a></span><span class="op">(</span></span>
<span>  python_version <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"ubuntu-latest"</span><span class="op">=</span><span class="st">"3.10.11"</span>,</span>
<span>                        <span class="st">"macOS-latest"</span><span class="op">=</span><span class="st">"3.9"</span>,</span>
<span>                        <span class="st">"windows-latest"</span><span class="op">=</span><span class="st">"3.9.1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">workflow</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_workflow.html">use_workflow</a></span><span class="op">(</span>runners <span class="op">=</span> <span class="va">runners</span>,</span>
<span>                                     preview <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     force_new <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     <span class="co">## Use default save_dir in practice</span></span>
<span>                                     save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## name: rworkflows</span></span>
<span><span class="co">## 'on':</span></span>
<span><span class="co">##   push:</span></span>
<span><span class="co">##     branches:</span></span>
<span><span class="co">##     - master</span></span>
<span><span class="co">##     - main</span></span>
<span><span class="co">##     - devel</span></span>
<span><span class="co">##     - RELEASE_**</span></span>
<span><span class="co">##   pull_request:</span></span>
<span><span class="co">##     branches:</span></span>
<span><span class="co">##     - master</span></span>
<span><span class="co">##     - main</span></span>
<span><span class="co">##     - devel</span></span>
<span><span class="co">##     - RELEASE_**</span></span>
<span><span class="co">## jobs:</span></span>
<span><span class="co">##   rworkflows:</span></span>
<span><span class="co">##     permissions: write-all</span></span>
<span><span class="co">##     runs-on: ${{ matrix.config.os }}</span></span>
<span><span class="co">##     name: ${{ matrix.config.os }} (${{ matrix.config.r }})</span></span>
<span><span class="co">##     container: ${{ matrix.config.cont }}</span></span>
<span><span class="co">##     strategy:</span></span>
<span><span class="co">##       fail-fast: no</span></span>
<span><span class="co">##       matrix:</span></span>
<span><span class="co">##         config:</span></span>
<span><span class="co">##         - os: ubuntu-latest</span></span>
<span><span class="co">##           bioc: devel</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ghcr.io/bioconductor/bioconductor_docker:devel</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##           python-version: 3.10.11</span></span>
<span><span class="co">##         - os: macOS-latest</span></span>
<span><span class="co">##           bioc: release</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ~</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##           python-version: '3.9'</span></span>
<span><span class="co">##         - os: windows-latest</span></span>
<span><span class="co">##           bioc: release</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ~</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##           python-version: 3.9.1</span></span>
<span><span class="co">##     steps:</span></span>
<span><span class="co">##     - uses: neurogenomics/rworkflows@master</span></span>
<span><span class="co">##       with:</span></span>
<span><span class="co">##         run_bioccheck: no</span></span>
<span><span class="co">##         run_rcmdcheck: yes</span></span>
<span><span class="co">##         as_cran: yes</span></span>
<span><span class="co">##         run_vignettes: yes</span></span>
<span><span class="co">##         has_testthat: yes</span></span>
<span><span class="co">##         run_covr: yes</span></span>
<span><span class="co">##         run_pkgdown: yes</span></span>
<span><span class="co">##         has_runit: no</span></span>
<span><span class="co">##         has_latex: no</span></span>
<span><span class="co">##         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</span></span>
<span><span class="co">##         run_docker: no</span></span>
<span><span class="co">##         DOCKER_TOKEN: ${{ secrets.DOCKER_TOKEN }}</span></span>
<span><span class="co">##         runner_os: ${{ runner.os }}</span></span>
<span><span class="co">##         cache_version: cache-v1</span></span>
<span><span class="co">##         docker_registry: ghcr.io</span></span></code></pre>
<pre><code><span><span class="co">## Saving yaml ==&gt; /tmp/RtmpFVft2I/rworkflows.yml</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="using-conda">Using conda<a class="anchor" aria-label="anchor" href="#using-conda"></a>
</h3>
<p>Optionally, you can tell it to create and activate a conda
environment to use. <code><a href="../reference/construct_conda_yml.html">rworkflows::construct_conda_yml</a></code> is a
helper function to create conda yaml files for you.</p>
<p>Here we construct our yaml file that specifies what we want in our
conda env. Make sure you write the yaml to your project directory, so
that it gets pushed to GitHub (and thus can be found after checking out
your repo on GitHub Actions).</p>
<p>See <a href="https://github.com/RajLabMSSM/echoconda/tree/main/inst/conda" class="external-link">here</a>
for some examples of</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">environment_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/construct_conda_yml.html">construct_conda_yml</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"myenv"</span>, </span>
<span>                                        channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"conda-forge"</span>,</span>
<span>                                                     <span class="st">"bioconda"</span><span class="op">)</span>,</span>
<span>                                        dependencies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"python&gt;=3.7"</span>,</span>
<span>                                                         <span class="st">"scanpy"</span>,</span>
<span>                                                         <span class="st">"anndata"</span><span class="op">)</span>, </span>
<span>                                        pip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scarches"</span>,</span>
<span>                                                <span class="st">"magic-impute"</span><span class="op">)</span>,</span>
<span>                                        preview <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## name: myenv</span></span>
<span><span class="co">## channels:</span></span>
<span><span class="co">## - conda-forge</span></span>
<span><span class="co">## - bioconda</span></span>
<span><span class="co">## dependencies:</span></span>
<span><span class="co">## - python&gt;=3.7</span></span>
<span><span class="co">## - scanpy</span></span>
<span><span class="co">## - anndata</span></span>
<span><span class="co">## - pip</span></span>
<span><span class="co">## - pip:</span></span>
<span><span class="co">##   - scarches</span></span>
<span><span class="co">##   - magic-impute</span></span></code></pre>
<pre><code><span><span class="co">## Saving yaml ==&gt; /__w/rworkflows/rworkflows/myenv_conda.yml</span></span></code></pre>
<p>You could also simply provide a URL to a publicly accessible conda
yaml file stored elsewhere.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">environment_file</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/RajLabMSSM/echoconda/raw/main/inst/conda/scanpy.yml"</span></span></code></pre></div>
<p>Now we can supply the conda <code>environment_file</code> path, and
Miniconda will automatically be installed to build the conda env on all
of your GitHub Actions runners.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">workflow</span> <span class="op">&lt;-</span> <span class="fu">rworkflows</span><span class="fu">::</span><span class="fu"><a href="../reference/use_workflow.html">use_workflow</a></span><span class="op">(</span>environment_file <span class="op">=</span> <span class="va">environment_file</span>, </span>
<span>                                     preview <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                                     force_new <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     <span class="co">## Use default save_dir in practice</span></span>
<span>                                     save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## environment_file supplied. Enabling miniforge.</span></span></code></pre>
<pre><code><span><span class="co">## python-version not set for runner os='ubuntu-latest'. Using default.</span></span></code></pre>
<pre><code><span><span class="co">## python-version not set for runner os='macOS-latest'. Using default.</span></span></code></pre>
<pre><code><span><span class="co">## python-version not set for runner os='windows-latest'. Using default.</span></span></code></pre>
<pre><code><span><span class="co">## name: rworkflows</span></span>
<span><span class="co">## 'on':</span></span>
<span><span class="co">##   push:</span></span>
<span><span class="co">##     branches:</span></span>
<span><span class="co">##     - master</span></span>
<span><span class="co">##     - main</span></span>
<span><span class="co">##     - devel</span></span>
<span><span class="co">##     - RELEASE_**</span></span>
<span><span class="co">##   pull_request:</span></span>
<span><span class="co">##     branches:</span></span>
<span><span class="co">##     - master</span></span>
<span><span class="co">##     - main</span></span>
<span><span class="co">##     - devel</span></span>
<span><span class="co">##     - RELEASE_**</span></span>
<span><span class="co">## jobs:</span></span>
<span><span class="co">##   rworkflows:</span></span>
<span><span class="co">##     permissions: write-all</span></span>
<span><span class="co">##     runs-on: ${{ matrix.config.os }}</span></span>
<span><span class="co">##     name: ${{ matrix.config.os }} (${{ matrix.config.r }})</span></span>
<span><span class="co">##     container: ${{ matrix.config.cont }}</span></span>
<span><span class="co">##     strategy:</span></span>
<span><span class="co">##       fail-fast: no</span></span>
<span><span class="co">##       matrix:</span></span>
<span><span class="co">##         config:</span></span>
<span><span class="co">##         - os: ubuntu-latest</span></span>
<span><span class="co">##           bioc: devel</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ghcr.io/bioconductor/bioconductor_docker:devel</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##         - os: macOS-latest</span></span>
<span><span class="co">##           bioc: release</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ~</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##         - os: windows-latest</span></span>
<span><span class="co">##           bioc: release</span></span>
<span><span class="co">##           r: auto</span></span>
<span><span class="co">##           cont: ~</span></span>
<span><span class="co">##           rspm: ~</span></span>
<span><span class="co">##     steps:</span></span>
<span><span class="co">##     - uses: neurogenomics/rworkflows@master</span></span>
<span><span class="co">##       with:</span></span>
<span><span class="co">##         run_bioccheck: no</span></span>
<span><span class="co">##         run_rcmdcheck: yes</span></span>
<span><span class="co">##         as_cran: yes</span></span>
<span><span class="co">##         run_vignettes: yes</span></span>
<span><span class="co">##         has_testthat: yes</span></span>
<span><span class="co">##         run_covr: yes</span></span>
<span><span class="co">##         run_pkgdown: yes</span></span>
<span><span class="co">##         has_runit: no</span></span>
<span><span class="co">##         has_latex: no</span></span>
<span><span class="co">##         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</span></span>
<span><span class="co">##         run_docker: no</span></span>
<span><span class="co">##         DOCKER_TOKEN: ${{ secrets.DOCKER_TOKEN }}</span></span>
<span><span class="co">##         runner_os: ${{ runner.os }}</span></span>
<span><span class="co">##         cache_version: cache-v1</span></span>
<span><span class="co">##         docker_registry: ghcr.io</span></span>
<span><span class="co">##         miniforge_variant: ''</span></span>
<span><span class="co">##         environment_file: /__w/rworkflows/rworkflows/myenv_conda.yml</span></span></code></pre>
<pre><code><span><span class="co">## Saving yaml ==&gt; /tmp/RtmpFVft2I/rworkflows.yml</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Cleanup files</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="va">environment_file</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<details><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] rworkflows_1.0.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] yulab.utils_0.1.2   sass_0.4.8          utf8_1.2.4         </span></span>
<span><span class="co">##  [4] generics_0.1.3      renv_1.0.3          stringi_1.8.3      </span></span>
<span><span class="co">##  [7] digest_0.6.33       magrittr_2.0.3      evaluate_0.23      </span></span>
<span><span class="co">## [10] grid_4.3.2          RColorBrewer_1.1-3  fastmap_1.1.1      </span></span>
<span><span class="co">## [13] rprojroot_2.0.4     jsonlite_1.8.8      BiocManager_1.30.22</span></span>
<span><span class="co">## [16] purrr_1.0.2         fansi_1.0.6         scales_1.3.0       </span></span>
<span><span class="co">## [19] textshaping_0.3.7   jquerylib_0.1.4     cli_3.6.2          </span></span>
<span><span class="co">## [22] rlang_1.1.2         badger_0.2.3        munsell_0.5.0      </span></span>
<span><span class="co">## [25] cachem_1.0.8        yaml_2.3.8          tools_4.3.2        </span></span>
<span><span class="co">## [28] memoise_2.0.1       dplyr_1.1.4         colorspace_2.1-0   </span></span>
<span><span class="co">## [31] ggplot2_3.4.4       here_1.0.1          vctrs_0.6.5        </span></span>
<span><span class="co">## [34] R6_2.5.1            lifecycle_1.0.4     stringr_1.5.1      </span></span>
<span><span class="co">## [37] fs_1.6.3            ragg_1.2.6          pkgconfig_2.0.3    </span></span>
<span><span class="co">## [40] desc_1.4.3          pkgdown_2.0.7       bslib_0.6.1        </span></span>
<span><span class="co">## [43] pillar_1.9.0        gtable_0.3.4        glue_1.6.2         </span></span>
<span><span class="co">## [46] data.table_1.14.10  systemfonts_1.0.5   xfun_0.41          </span></span>
<span><span class="co">## [49] tibble_3.2.1        rvcheck_0.2.1       tidyselect_1.2.0   </span></span>
<span><span class="co">## [52] knitr_1.45          htmltools_0.5.7     rmarkdown_2.25     </span></span>
<span><span class="co">## [55] dlstats_0.1.7       compiler_4.3.2</span></span></code></pre>
</details><hr>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Brian Schilder, Alan Murphy, Nathan Skene.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
